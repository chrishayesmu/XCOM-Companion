<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />

    <link rel="stylesheet" href="node_modules/vis-network/styles/vis-network.min.css" />

    <link rel="stylesheet" href="assets/css/variables.css" />
    <link rel="stylesheet" href="assets/css/global.css" />
    <link rel="stylesheet" href="assets/css/nativize.css" />
    <link rel="stylesheet" href="assets/css/nav.css" />
    <link rel="stylesheet" href="assets/css/section.css" />
    <link rel="stylesheet" href="assets/css/shared.css" />

    <link rel="stylesheet" href="assets/css/pages/base-facilities.css" />
    <link rel="stylesheet" href="assets/css/pages/enemy-browse-page.css" />
    <link rel="stylesheet" href="assets/css/pages/enemy-display-page.css" />
    <link rel="stylesheet" href="assets/css/pages/item.css" />
    <link rel="stylesheet" href="assets/css/pages/foundry.css" />
    <link rel="stylesheet" href="assets/css/pages/maps.css" />
    <link rel="stylesheet" href="assets/css/pages/perks.css" />
    <link rel="stylesheet" href="assets/css/pages/search.css" />
    <link rel="stylesheet" href="assets/css/pages/soldiers.css" />
    <link rel="stylesheet" href="assets/css/pages/tech-details.css" />
    <link rel="stylesheet" href="assets/css/pages/tech-tree.css" />
    <link rel="stylesheet" href="assets/css/pages/ufos.css" />

    <link rel="stylesheet" href="assets/css/widgets.css" />

    <!-- CSS for custom elements -->
    <link rel="stylesheet" href="assets/css/custom-elements/alien-research.css" />
    <link rel="stylesheet" href="assets/css/custom-elements/enemy-infobox.css" />
    <link rel="stylesheet" href="assets/css/custom-elements/infobox.css" />
    <link rel="stylesheet" href="assets/css/custom-elements/research-credit.css" />
    <link rel="stylesheet" href="assets/css/custom-elements/single-select-list.css" />
    <link rel="stylesheet" href="assets/css/custom-elements/timeline.css" />
    <link rel="stylesheet" href="assets/css/custom-elements/toggle-group.css" />

    <script src="assets/js/prototype-changes.js"></script>

    <!-- page-manager needs to load before custom elements or there can be an import cycle -->
    <script type="module" src="assets/js/page-manager.js"></script>

    <!-- Script files for custom elements -->
    <script type="module" src="assets/js/custom-elements/alien-research.js"></script>
    <script type="module" src="assets/js/custom-elements/app-update-notifier.js"></script>
    <script type="module" src="assets/js/custom-elements/base-facilities.js"></script>
    <script type="module" src="assets/js/custom-elements/enemy-infobox.js"></script>
    <script type="module" src="assets/js/custom-elements/foundry-projects.js"></script>
    <script type="module" src="assets/js/custom-elements/in-app-link.js"></script>
    <script type="module" src="assets/js/custom-elements/infobox.js"></script>
    <script type="module" src="assets/js/custom-elements/research-credit.js"></script>
    <script type="module" src="assets/js/custom-elements/single-select-list.js"></script>
    <script type="module" src="assets/js/custom-elements/timeline.js"></script>
    <script type="module" src="assets/js/custom-elements/toggle-group.js"></script>
</head>

<body spellcheck="false">
    <nav class="nav js-nav">
        <header class="nav-header">
            <h1 class="nav-title">
                <a data-page-on-click="home-page" style="position: relative">
                    <div class="nav-title-xcom">XCOM</div>
                    <div style="margin-left: 14px"><span style="opacity: 0.225">Com</span>panion</div>
                    <div style="position: absolute; left: 14px; top: 11px; opacity: 0.4;">Com</div>
                </a>
            </h1>
            <h4 id="appVersion" class="nav-header-version"></h4>
        </header>

        <div class="nav-body">
            <div class="nav-search-bar">
                <input type="text" id="nav-search-input" placeholder="Search.." list="search-datalist" />
            </div>

            <div class="nav-item">
                <h5 class="nav-category">
                    <img class="nav-icon" src="assets/img/misc-icons/strategy-layer-icon.png" />
                    Strategy Layer
                </h5>

                <div class="nav-container">
                    <span class="nav-container-label">Research</span>

                    <div class="nav-subsection-container">
                        <button data-page-on-click="tech-tree-display-page" class="nav-button subnav-button">Tech Tree</button>
                        <button data-page-on-click="research-credits-browse-page" class="nav-button subnav-button">Interrogation Credits</button>
                    </div>
                </div>

                <div class="nav-container">
                    <span class="nav-container-label">Engineering</span>

                    <div class="nav-subsection-container">
                        <button data-page-on-click="base-facilities-browse-page" class="nav-button subnav-button">Base Facilities</button>
                        <button data-page-on-click="foundry-projects-browse-page" class="nav-button subnav-button">Foundry Projects</button>
                    </div>
                </div>

                <div class="nav-container">
                    <span class="nav-container-label">Soldiers</span>

                    <div class="nav-subsection-container">
                        <button data-page-on-click="class-selection-page" data-pagearg-class-pool="infantry" class="nav-button subnav-button">Infantry Perk Trees</a>
                        <button data-page-on-click="class-selection-page" data-pagearg-class-pool="mec" class="nav-button subnav-button">MEC Perk Trees</button>
                        <button data-page-on-click="perk-tree-display-page" data-pagearg-display-mode="gene-mods" class="nav-button subnav-button">Gene Mods</button>
                        <button data-page-on-click="perk-tree-display-page" data-pagearg-display-mode="psi-training" class="nav-button subnav-button">Psi Training</button>
                        <button class="nav-button subnav-button not-implemented">Officer Training School</button>
                        <button class="nav-button subnav-button not-implemented">Officer Ranks</button>
                    </div>
                </div>

                <button data-page-on-click="ufo-browse-page" class="nav-button">UFOs</button>
            </div>

            <div class="nav-item">
                <h5 class="nav-category">
                    <img class="nav-icon" src="assets/img/misc-icons/tactical-layer-icon.png" />
                    Tactical Layer
                </h5>

                <button data-page-on-click="enemy-browse-page" class="nav-button">Enemies by Date</button>
                <button data-page-on-click="map-possibilities-page" class="nav-button">Maps</button>
            </div>
        </div>

        <footer class="nav-footer">
            Made by SwfDelicious<br />
            <a href="https://www.github.com/chrishayesmu/XCOM-Companion">View on GitHub</a>
        </footer>
    </nav>

    <main class="content js-content">
        <img id="easter-egg-amongus-pizza" class="hidden-collapse" src="assets/img/amongus_pizza.png" />

        <header class="section-header">
            <div id="page-title-container" class="section-wrapper"></div>
            <div id="history-buttons-container">
                <img id="history-button-back" src="assets/img/ui-icons/arrow_left.png" title="Previous page" />
                <img id="history-button-forward" src="assets/img/ui-icons/arrow_right.png" title="Next page" />
            </div>
        </header>

        <section id="page-body-container" class="section js-section">
        </section>
    </main>
    <app-update-notifier></app-update-notifier>

    <datalist id="search-datalist">
    </datalist>

    <script>
        // Small script to populate app version in the nav header
        const { ipcRenderer } = require('electron');
        const versionContainer = document.getElementById("appVersion");

        ipcRenderer.invoke("get-app-version").then( arg => {
            versionContainer.textContent = "v" + arg.version;
        });
    </script>
</body>

</html>